(this["webpackJsonptodo-new"]=this["webpackJsonptodo-new"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(30)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var a=n(10),r=n(8),o=n(7),i=n(1),c=n(2),s=n(4),l=n(5),u=n(0),d=n.n(u),m=n(12),f=n.n(m),p=(n(19),function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={status:""},e.buttons=[{name:"all",label:"All"},{name:"active",label:"Active"},{name:"done",label:"Done"},{name:"important",label:"Important"}],e.filtered=function(t){var n=t.target.value;e.setState({status:n}),e.props.onFilter(n)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.filter,n=this.buttons.map((function(n){var a=n.name,r=n.label,o=a===t?"btn-info b":"btn-outline-secondary",i="important"===a;return d.a.createElement("button",{type:"button",value:a,className:"btn ".concat(o," ").concat(i," myBtn"),onClick:e.filtered,key:a},r)}));return d.a.createElement("div",{className:"btn-group g"},n)}}]),n}(u.Component)),h=(n(20),function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.toDo,n=void 0===t?2:t,a=e.done,r=void 0===a?5:a;return d.a.createElement("div",{className:"app-header d-flex"},d.a.createElement("h1",{className:"centralize"},"Todo List"),d.a.createElement("h2",null,n," more to do, ",r," done"))}}]),n}(u.Component)),b=(n(21),function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.onSearch2=function(t){var n=t.target.value;e.setState({inpValue:n}),e.props.onSearch(n)},e}return Object(c.a)(n,[{key:"render",value:function(){return d.a.createElement("input",{placeholder:"Type here to search",className:"form-control media search-input",onChange:this.onSearch2})}}]),n}(u.Component)),v=(n(22),n(23),n(24),n(25),n(3)),k=n.n(v),y=n(6),g=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"getCookie",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var r=n[a].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}}]),e}(),E=function(){function e(){Object(i.a)(this,e),this._apiBase="http://127.0.0.1:8000/api",this.csrf=(new g).getCookie("csrftoken")}return Object(c.a)(e,[{key:"fetchAllTasks",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase,"/all-tasks/"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postTask",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t,n,a,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1?r[1]:void 0,a=r.length>2?r[2]:void 0,e.next=5,fetch("".concat(this._apiBase,"/").concat(n,"/").concat(a),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.csrf},body:JSON.stringify({id:a,label:t.label,time:t.time,important:t.important,done:t.done})});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(y.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase,"/delete-task/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":this.csrf}});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"strike",value:function(){var e=Object(y.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase,"/update-task/").concat(t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.csrf},body:JSON.stringify({label:t.label,important:t.important,done:!t.done,id:t.id,time:t.time})});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ness",value:function(){var e=Object(y.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase,"/update-task/").concat(t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.csrf},body:JSON.stringify({label:t.label,important:!t.important,done:t.done,id:t.id,time:t.time})});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),O=n(13),j=n(9),T=(n(27),n(28),n(29),function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={label:"",important:!1,done:!1,id:0,time:"00:00",editing:!1},a.classN="btn custom",a.onAdded1=function(e){var t=e.target.value;a.setState({label:t})},a.onTimeAdded=function(e){var t=e.target.value;a.setState({time:t})},a.addItem=function(e){e.preventDefault();var t=a.state,n=(t.editing,Object(O.a)(t,["editing"])),r="create-task",i="";!0===a.state.editing&&(r="update-task",i=n.id,a.setState({editing:!1})),(new E).postTask(Object(o.a)({},n),r,i).then((function(e){a.props.onReload(),document.getElementById("clearing").reset(),a.setState({label:"",important:!1,done:!1,id:null,time:"00:00"})}))},a.addItem=a.addItem.bind(Object(j.a)(a)),a}return Object(c.a)(n,[{key:"onEdit",value:function(e){this.setState(Object(o.a)({},e,{editing:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.todos,a=t.onDeleted,r=t.onImportant,o=t.onDone,i=d.a.createElement("input",{placeholder:"Add-To-Do",className:"form-control search-input",onChange:this.onAdded1,contentEditable:"true",value:this.state.label}),c=d.a.createElement("input",{placeholder:"Add-Time",className:"form-control search-input-time",onChange:this.onTimeAdded,type:"time",value:this.state.time}),s=n.map((function(t){var n=t.important,i="todo-list-item-label label-color",c="time";t.done&&(i+=" done",c+=" done"),n&&(i+=" important");var s=t.id;return d.a.createElement("li",{key:s,className:"list-group-item"},d.a.createElement("span",{className:"todo-list-item"},d.a.createElement("span",{className:c},t.time),d.a.createElement("span",{onClick:function(){return o(t)},className:i},t.label),d.a.createElement("button",{className:"btn btn-sm btn-outline-success float-right",onClick:function(){return r(t)}},d.a.createElement("i",{className:"far fa-exclamation"})),d.a.createElement("button",{className:"btn btn-sm btn-outline-info float-right",onClick:function(){return e.onEdit(t)}},d.a.createElement("i",{className:"far fa-pen"})),d.a.createElement("button",{className:"btn-sm btn-outline-danger btn float-right",onClick:function(){return a(s)}},d.a.createElement("i",{className:"far fa-trash","aria-hidden":"true"}))))}));return d.a.createElement("div",null,d.a.createElement("ul",{className:"list-group todo-list"},s),d.a.createElement("form",{className:"hey btn-group",id:"clearing",onSubmit:this.addItem},i,c,d.a.createElement("button",{className:this.classN},"Add")))}}]),n}(u.Component)),C=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).maxId=100,a.fetchTasks=function(){(new E).fetchAllTasks().then((function(e){return e.forEach((function(e){e.time=e.time.slice(0,5)})),e})).then((function(e){a.setState({forALabel:e})}))},a.deleteItem=function(e){(new E).deleteTask(e).then((function(){return a.fetchTasks()}))},a.onImp=function(e){(new E).ness(e).then((function(){return a.fetchTasks()}))},a.onDone=function(e){(new E).strike(e).then((function(){return a.fetchTasks()}))},a.setTerm=function(e){a.setState({term:e})},a.onFilter=function(e){a.setState({set:e})},a.state={forALabel:[a.createToDoItem("Fetching...","00:00")],term:"",set:"all",created:{label:"",important:!1,done:!1,id:null,time:"00:00"},editing:!1},a.fetchTasks(),a}return Object(c.a)(n,[{key:"createToDoItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00";return{label:e,important:!1,done:!1,id:this.maxId++,time:""!==t?t:"00:00"}}},{key:"properties",value:function(e,t,n){var i=e.findIndex((function(e){return e.id===t})),c=e[i],s=Object(o.a)({},c,Object(r.a)({},n,!c[n]));return[].concat(Object(a.a)(e.slice(0,i)),[s],Object(a.a)(e.slice(i+1)))}},{key:"onSearch",value:function(e,t){return 0===t.length?e:e.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}},{key:"ButtClicked",value:function(e,t){switch(t){case"done":return e.filter((function(e){return e.done}));case"active":return e.filter((function(e){return!e.done}));case"important":return e.filter((function(e){return e.important}));case"all":default:return e}}},{key:"render",value:function(){var e=(new Date).getFullYear(),t=this.state,n=t.forALabel,a=t.term,r=t.set,o=this.ButtClicked(this.onSearch(n,a),r),i=n.filter((function(e){return e.done})).length,c=n.length-i;return d.a.createElement("div",{className:"myContainer"},d.a.createElement("div",{className:"todo-app"},d.a.createElement(h,{toDo:c,done:i}),d.a.createElement("div",{className:"top-panel d-flex my-flex"},d.a.createElement(b,{onSearch:this.setTerm}),d.a.createElement(p,{onFilter:this.onFilter,filter:r})),d.a.createElement(T,{todos:o,onDeleted:this.deleteItem,onImportant:this.onImp,onDone:this.onDone,onReload:this.fetchTasks})),d.a.createElement("div",{className:"footer"},d.a.createElement("div",null,d.a.createElement("p",null,"Created by Shokhboz Abdullayev"),d.a.createElement("p",{id:"copyright"},"\xa9 Copyright"," ",d.a.createElement("span",{id:"year"},e)))))}}]),n}(u.Component);f.a.render(d.a.createElement(C,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.9c32fda7.chunk.js.map